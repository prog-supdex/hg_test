# README
_____

##### Тестовое задание

Каждое событие определено в сервисе.

Модель Event содержит enum поле с выбором уже определенных типов событий

Каждое событие можно вызвать из консоли, указав имя нужного сервиса и передав аргументы

Запись всех результатов происходит по пути public/events. Данный путь указан в `Events::FOLDER_PATH`
_____
__Конвертация html в pdf__

В данный сервис первым аргументов указываем путь до файла html, вторым параметром передаем название папки,
куда будет сохранен результат, относительно пути, указанного в `Events::FOLDER_PATH`
``` 
Events::ConverterHtmlToPdfService.new(absolute_path_to_html, folder_nane_for_save_result).call
```
Возвращает путь до созданного файла
___
__Сохранение структуры дерева указанного пути в файл__

Первый аргументом идет путь, с которого необходимо получить дерево структуры, вторым - название файла, куда будет сохранен результат
```
Events::TreeToFileService.new(path, file_name).call
```
Возвращает путь до созданного файла

___
__Парсер реплеев (replays) игры Supreme Commander 2 и сохранение результата в указанный файл__

Первым аргументом идет передача путь до реплея, вторым название папки для сохранение результата, 
относительно пути, указанного в `Events::FOLDER_PATH`
```
Events::ParseSupCom2ReplayService.new(path_to_replay, folder_name_for_result).call
```

Возвращает путь до сохраненного результата
___
__Создание папки__

Передается один аргумент, строка, содержащая название создаваемой папки, либо названия папок, разделенные через слеш, для создания вложенной структуры. 
Например, 'folder_one/folder_two/folder_three' 

Папка/папки будут созданы относительно пути, указанного в `Events::FOLDER_PATH`

```
Events::CreatorFolderService.new(folder_name).call
```
Возвращает путь до созданной папки
___
__Удаление папки__

Передается один аргумент, содержащий название создаваемой папки.

Будет удалена папка, размещенная относительно пути, указанного в `Events::FOLDER_PATH`

```
Events::DeleteFolderService.new(folder_name).call
```
___
__Переименование папки__

Первым аргументом передает путь до папки, которые необходимо переименовать. 

Вторым аргументом новое название папки
```
Events::RenameFolderService.new(path_to_folder_for_rename, new_name_folder).call
```

Возвращает путь до новой папки
___
__Загрузка файла__

Загружает файл, размещенный в сети, в указанную папку, которая будет размещена относительно пути, указанного в `Events::FOLDER_PATH`

```
Events::UploaderFileService.new(path_to_file, folder_name).call
```

Возвращает путь до загруженного файла
___
__Упаковка файла в ZIP__

Первым аргументом передаем путь до файла, который  необходимо упаковать. Также можно передавать путь до файла размещенный в сети

Вторым аргументов передаем название папки, куда будет сохранен результат, относительно пути, указанного в `Events::FOLDER_PATH`
```
Events::ZipperService.new(path_to_file, folder_name).call
```

Возвращает путь до сжатого файла
___
__Распаковка Zip-архива__

Первым аргументов принимает путь до zip-файла. Принимает также файл, размещенный в сети

Вторым аргументов принимает название папки, куда будет сохранен результат, относительно пути, указанного в `Events::FOLDER_PATH`
```
Events::UnzipperService.new('http://some_url_to_file', folder_name)
```

Возвращает путь до распакованного файла
___

Также, любой сервис можно вызвать через `EventHandlerService` передав в качестве аргумента ActiveRecord объект модели Event

```
EventHandlerService.call(event: some_event_instance)
```
___
#### Имеющиеся "проблемы"
* Тестами покрыты не все сервисы
* Каждый сервис можно реализовать, как модуль, что позволит немного сэкономить памяти
* Фронт на примитивном уровне. Акцент на нем не делался.
* Топорная передача аргументов в сервисе. Приходится помнить, и строго следовать правильному местоположению аргументов

##### Заметка
Такими моментами пришлось пожертвовать, дабы потраченное время на реализацию тестового оставалась в пределах разумного.
Также, как мне показалось, мало конкретики по ТЗ

Некоторые вещи можно было реализовать прямым вызовов linux-команд. Например, создание папки `system 'mkdir', '-p', 'somefolder/folder'`,
но, это как-то не тру руби вей =) 
